---
# yamllint disable rule:line-length
###############################################################################
# Annotate User Configuration
###############################################################################
# Sanitize (standardize with default values if not set) Forgejo configuration.
#


# Externally stored application settings for Jellyseerr. Additional settings
# stored in jellyseerr.conf and the DB. WebUI locations are headers but all
# values are stored within config.xml. HIGHLY Recommend to configure jellyseerr
# in the WebUI and migrate settings values here.
#
# Documented usage here reflect code, installer, and WebUI analysis. These may
# change over time and should be re-validated from time to time.
#


# Configuration of Gogs/Gitea/Forgejo is no longer simple or easy. Parse
# settings, and maintain section ordering for idempotent template rendering;
# keeping logic within task for easier updates and validation. Default values
# are not rendered.
#
# Relative directories are standardized to absolute paths based on the Forgejo
# documented defaults for those relative paths, which enables management of
# those directories during installation. Once all preparation work is done, all
# config options may be used to reference locations in later config stages.
#
# Forgejo will update directory permissions as needed when it is launched.
#
# Config section order matters - last loaded values from configuration sections
# win (repeated sections will overwrite earlier values of the same section).
#
# Decision: Use jellyseerr_cfg_*_path in place of App*Path sections - path
#     sections by default use additional paths on top of the base path when
#     resolving relative paths. We standardized those to the same paths here to
#     prevent many nuanced edge case errors in managing those files, as well as
#     preventing variable order dependency resolution errors). Use empty string
#     values for disabled options that should NOT appear in config even if
#     datatype is not str.
#
# A necessary evil given the limitations of argument_spec:
# * Strong validation and sanitization of user input.
# * Annotated variable providing context and rendering hints.
# * Logic updates centrally located in tasks.
# * Simplified role updates for variable changes.
# * All data touched by user is in a standard, expected format.
#
# Annotated Defaults (2.0):
# _{VAR}: dict - Annotated and sanitized default variable.
#   section: str - Section name.
#   key: str - Config file key.
#   raw: any - Raw value from user, defaults, or role defaults.
#   data: any - Processed raw value for use in rendering. Optional.
#   default: any - Role default (testing for changed defaults).
#   hint: str - Value rendering type hint (docstring types).
#   role_*: any - Role specific usage. Optional.
#   added: str - Release version variable added.
#       Special Case:
#         0.0.0: Unknown or since role inception.
#   sensitive: bool - True for PII/SPII data that should not be logged.
#   deprecated: bool - True if no longer used in current role release.
#   order: int - Order item should appear in templated files.
#
# Generates:
#   _jellyseerr_map: list of dict - Annotated config map.
#   _jellyseerr_order: list of str - Config section order.
#
# Reference:
# * https://forgejo.org/docs/latest/admin/installation-binary
# * https://forgejo.org/docs/latest/admin/config-cheat-sheet

# TODO(12.x): Remove variable renaming check on next major Jellyseerr release.
- name: 'Annotate | check deprecated variable usage'
  when: >
    hostvars[inventory_hostname] | dict2items |
    selectattr("key", "match", "overseerr_*") | length > 0
  ansible.builtin.fail:
    msg: |
      âœ˜ Role variables have migrated. Read defaults and update.

      overseerr_* -> jellyseerr_*

- name: 'Annotate | sanitize & annotate service defaults'
  ansible.builtin.set_fact:
    _jellyseerr_srv_version: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_version }}',
      default: '{{ jellyseerr_role_validate_version }}',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_srv_bind_address: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_bind_address }}',
      default: '',
      role_env: 'HOST',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_srv_port: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_port }}',
      default: 5055,
      role_env: 'PORT',
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_srv_delete_old_versions_enable: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_delete_old_versions_enable }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_srv_u_mask: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_u_mask }}',
      default: '0002',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_srv_force_overwrite: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_force_overwrite }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_srv_restart_daily_enable: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_restart_daily_enable }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 7,
    }
    _jellyseerr_srv_force_config_only_enable: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_force_config_only_enable }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 8,
    }
    _jellyseerr_srv_user: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_user }}',
      default: 'jellyseerr',
      role_uid: '',  # (str) UID.
      role_home: '',  # (str) home directory.
      role_nvm: '',  # (str) local user nvm install path.
      role_profile: '',  # (str) .profile.
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 9,
    }
    _jellyseerr_srv_group: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_group }}',
      default: 'jellyseerr',
      role_gid: '',  # (str) GID.
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 10,
    }
    _jellyseerr_srv_create_user: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_create_user }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 11,
    }
    _jellyseerr_srv_user_data_manage_enable: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_user_data_manage_enable }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 12,
    }
    _jellyseerr_srv_build_memory: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_build_memory }}',
      data: '{{
          _jellyseerr_srv_build_memory
          if jellyseerr_srv_build_memory != -1 else
          ansible_memory_mb.real.total
        }}',
      default: -1,
      role_args: '--max-old-space-size=',
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 13,
    }
    _jellyseerr_srv_build_clear_cache: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_build_clear_cache }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 14,
    }
    _jellyseerr_srv_poll_enable: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_poll_enable }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 15,
    }

# UI configuration sections do not align with JSON data structures.
- name: 'Annotate | sanitize & annotate config defaults'
  ansible.builtin.set_fact:
    _jellyseerr_cfg_client_id: {
      section: 'base',
      key: 'clientId',
      raw: '{{ jellyseerr_cfg_client_id }}',
      default: '{{ inventory_hostname | to_uuid }}',
      hint: 'str',  # UUIDv5.
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_vapid_private: {
      section: 'base',
      key: 'vapidPrivate',
      raw: '{{ jellyseerr_cfg_vapid_private }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_vapid_public: {
      section: 'base',
      key: 'vapidPrivate',
      raw: '{{ jellyseerr_cfg_vapid_public }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_api_key: {
      section: 'main',
      key: 'apiKey',
      raw: '{{ jellyseerr_cfg_api_key }}',
      default: '{{ inventory_hostname | to_uuid | b64encode }}',
      hint: 'str',  # UUIDv5 base64.
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_application_title: {
      section: 'main',
      key: 'applicationTitle',
      raw: '{{ jellyseerr_cfg_application_title }}',
      default: 'Jellyseerr',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_application_url: {
      section: 'main',
      key: 'applicationUrl',
      raw: '{{ jellyseerr_cfg_application_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_cache_images: {
      section: 'main',
      key: 'cacheImages',
      raw: '{{ jellyseerr_cfg_cache_images }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_cfg_default_permissions: {
      section: 'main',
      key: 'defaultPermissions',
      raw: '{{ jellyseerr_cfg_default_permissions }}',
      default: 32,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_srv_owner_email: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_owner_email }}',
      default: 'jellyseerr@example.com',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_srv_owner_username: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_owner_username }}',
      default: 'jellyseerr',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_srv_owner_password: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_owner_password }}',
      default: '{{
        lookup("ansible.builtin.password",
               "/dev/null",
               chars=["ascii_lowercase", "ascii_uppercase", "digits"],
               length=32)
      }}',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_srv_owner_avatar: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_srv_owner_avatar }}',
      default: '{{
        "https://gravatar.com/avatar/" ~
        "c77fdc27cab83732b8623d2ea873d330?default=mm&size=200"
      }}',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_default_quotas_movie_quota_limit: {
      section: 'main',  # defaultQuotas.movie
      key: 'quotaLimit',
      raw: '{{ jellyseerr_cfg_default_quotas_movie_quota_limit }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_default_quotas_movie_quota_days: {
      section: 'main',  # defaultQuotas.movie
      key: 'quotaDays',
      raw: '{{ jellyseerr_cfg_default_quotas_movie_quota_days }}',
      default: 7,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 7,
    }
    _jellyseerr_cfg_default_quotas_tv_quota_limit: {
      section: 'main',  # defaultQuotas.movie
      key: 'quotaLimit',
      raw: '{{ jellyseerr_cfg_default_quotas_tv_quota_limit }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 8,
    }
    _jellyseerr_cfg_default_quotas_tv_quota_days: {
      section: 'main',  # defaultQuotas.movie
      key: 'quotaDays',
      raw: '{{ jellyseerr_cfg_default_quotas_tv_quota_days }}',
      default: 7,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 9,
    }
    _jellyseerr_cfg_hide_available: {
      section: 'main',
      key: 'hideAvailable',
      raw: '{{ jellyseerr_cfg_hide_available }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 10,
    }
    _jellyseerr_cfg_hide_blacklisted: {
      section: 'main',
      key: 'hideBlacklisted',
      raw: '{{ jellyseerr_cfg_hide_blacklisted }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 11,
    }
    _jellyseerr_cfg_local_login: {
      section: 'main',
      key: 'localLogin',
      raw: '{{ jellyseerr_cfg_local_login }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 12,
    }
    _jellyseerr_cfg_media_server_login: {
      section: 'main',
      key: 'mediaServerLogin',
      raw: '{{ jellyseerr_cfg_media_server_login }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 13,
    }
    _jellyseerr_cfg_new_plex_login: {
      section: 'main',
      key: 'newPlexLogin',
      raw: '{{ jellyseerr_cfg_new_plex_login }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 14,
    }
    _jellyseerr_cfg_discover_region: {
      section: 'main',
      key: 'discoverRegion',
      raw: '{{ jellyseerr_cfg_discover_region }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 15,
    }
    _jellyseerr_cfg_streaming_region: {
      section: 'main',
      key: 'streamingRegion',
      raw: '{{ jellyseerr_cfg_streaming_region }}',
      default: 'US',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 16,
    }
    _jellyseerr_cfg_original_language: {
      section: 'main',
      key: 'originalLanguage',
      raw: '{{ jellyseerr_cfg_original_language }}',
      data: '{{ jellyseerr_cfg_original_language | join("|") }}',
      default: ['en'],
      hint: 'list of str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 17,
    }
    _jellyseerr_cfg_blacklisted_tags: {
      section: 'main',
      key: 'blacklistedTags',
      raw: '{{ jellyseerr_cfg_blacklisted_tags }}',
      data: '{{ jellyseerr_cfg_blacklisted_tags | join(",") }}',
      default: [],
      hint: 'list of int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 18,
    }
    _jellyseerr_cfg_blacklisted_tags_limit: {
      section: 'main',
      key: 'blacklistedTagsLimit',
      raw: '{{ jellyseerr_cfg_blacklisted_tags_limit }}',
      default: 50,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 19,
    }
    _jellyseerr_cfg_media_server_type: {
      section: 'main',
      key: 'mediaServerType',
      raw: '{{ jellyseerr_cfg_media_server_type }}',
      default: 1,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 20,
    }
    _jellyseerr_cfg_partial_requests_enabled: {
      section: 'main',
      key: 'partialRequestsEnabled',
      raw: '{{ jellyseerr_cfg_partial_requests_enabled }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 21,
    }
    _jellyseerr_cfg_enable_special_episodes: {
      section: 'main',
      key: 'enableSpecialEpisodes',
      raw: '{{ jellyseerr_cfg_enable_special_episodes }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 22,
    }
    _jellyseerr_cfg_locale: {
      section: 'main',
      key: 'locale',
      raw: '{{ jellyseerr_cfg_locale | lower }}',
      default: 'en',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 23,
    }
    _jellyseerr_cfg_youtube_url: {
      section: 'main',
      key: 'youtubeUrl',
      raw: '{{ jellyseerr_cfg_youtube_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 24,
    }
    _jellyseerr_cfg_plex_name: {
      section: 'plex',
      key: 'name',
      raw: '{{ jellyseerr_cfg_plex_name }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_plex_ip: {
      section: 'plex',
      key: 'ip',
      raw: '{{ jellyseerr_cfg_plex_ip }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_plex_port: {
      section: 'plex',
      key: 'port',
      raw: '{{ jellyseerr_cfg_plex_port }}',
      default: 32400,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_plex_use_ssl: {
      section: 'plex',
      key: 'useSsl',
      raw: '{{ jellyseerr_cfg_plex_use_ssl }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_cfg_plex_libraries: {
      section: 'plex',
      key: 'libraries',
      raw: '{{ jellyseerr_cfg_plex_libraries }}',
      data: [],  # (list of dict) templated.
      default: [],
      hint: 'list of dict',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_cfg_plex_web_app_url: {
      section: 'plex',
      key: 'webAppUrl',
      raw: '{{ jellyseerr_cfg_plex_web_app_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_plex_machine_id: {
      section: 'plex',
      key: 'machineId',
      raw: '{{ jellyseerr_cfg_plex_machine_id }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_jellyfin_name: {
      section: 'jellyfin',
      key: 'name',
      raw: '{{ jellyseerr_cfg_jellyfin_name }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_jellyfin_ip: {
      section: 'jellyfin',
      key: 'ip',
      raw: '{{ jellyseerr_cfg_jellyfin_ip }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_jellyfin_port: {
      section: 'jellyfin',
      key: 'port',
      raw: '{{ jellyseerr_cfg_jellyfin_port }}',
      default: 8096,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_jellyfin_use_ssl: {
      section: 'jellyfin',
      key: 'useSsl',
      raw: '{{ jellyseerr_cfg_jellyfin_use_ssl }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_cfg_jellyfin_url_base: {
      section: 'jellyfin',
      key: 'urlBase',
      raw: '{{ jellyseerr_cfg_jellyfin_url_base }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_cfg_jellyfin_external_hostname: {
      section: 'jellyfin',
      key: 'externalHostname',
      raw: '{{ jellyseerr_cfg_jellyfin_external_hostname }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_jellyfin_jellyfin_forgot_password_url: {
      section: 'jellyfin',
      key: 'jellyfinForgotPasswordUrl',
      raw: '{{ jellyseerr_cfg_jellyfin_jellyfin_forgot_password_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 7,
    }
    _jellyseerr_cfg_jellyfin_libraries: {
      section: 'jellyfin',
      key: 'libraries',
      raw: '{{ jellyseerr_cfg_jellyfin_libraries }}',
      data: [],  # (list of dict) templated.
      default: [],
      hint: 'list of dict',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 8,
    }
    _jellyseerr_cfg_jellyfin_server_id: {
      section: 'jellyfin',
      key: 'serverId',
      raw: '{{ jellyseerr_cfg_jellyfin_server_id }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 9,
    }
    _jellyseerr_cfg_jellyfin_api_key: {
      section: 'jellyfin',
      key: 'apiKey',
      raw: '{{ jellyseerr_cfg_jellyfin_api_key }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 10,
    }
    _jellyseerr_cfg_tautulli_hostname: {
      section: 'tautulli',
      key: 'hostname',
      raw: '{{ jellyseerr_cfg_tautulli_hostname }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_tautulli_port: {
      section: 'tautulli',
      key: 'port',
      raw: '{{ jellyseerr_cfg_tautulli_port }}',
      default: 8181,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_tautulli_use_ssl: {
      section: 'tautulli',
      key: 'useSsl',
      raw: '{{ jellyseerr_cfg_tautulli_use_ssl }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_tautulli_url_base: {
      section: 'tautulli',
      key: 'urlBase',
      raw: '{{ jellyseerr_cfg_tautulli_url_base }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_cfg_tautulli_api_key: {
      section: 'tautulli',
      key: 'apiKey',
      raw: '{{ jellyseerr_cfg_tautulli_api_key }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_cfg_tautulli_external_url: {
      section: 'tautulli',
      key: 'externalUrl',
      raw: '{{ jellyseerr_cfg_tautulli_external_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_radarr: {
      section: 'radarr',
      key: '',
      raw: '{{ jellyseerr_cfg_radarr }}',
      data: [],  # (list of dict) templated.
      default: [],
      hint: 'list of dict',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_sonarr: {
      section: 'sonarr',
      key: '',
      raw: '{{ jellyseerr_cfg_sonarr }}',
      data: [],  # (list of dict) templated.
      default: [],
      hint: 'list of dict',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    # Override configuration done in database.
    _jellyseerr_cfg_public_initialized: {
      section: 'public',
      key: 'initialized',
      raw: '{{ jellyseerr_cfg_public_initialized }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_agents_email_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_email_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_agents_email_user_email_required: {
      section: 'notifications',
      key: 'userEmailRequired',
      raw: '{{ jellyseerr_cfg_agents_email_user_email_required }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_agents_email_email_from: {
      section: 'notifications',
      key: 'emailFrom',
      raw: '{{ jellyseerr_cfg_agents_email_email_from }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_agents_email_smtp_host: {
      section: 'notifications',
      key: 'smtpHost',
      raw: '{{ jellyseerr_cfg_agents_email_smtp_host }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_cfg_agents_email_smtp_port: {
      section: 'notifications',
      key: 'smtpPort',
      raw: '{{ jellyseerr_cfg_agents_email_smtp_port }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_cfg_agents_email_secure: {
      section: 'notifications',
      key: 'secure',
      raw: '{{ jellyseerr_cfg_agents_email_secure }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_agents_email_ignore_tls: {
      section: 'notifications',
      key: 'ignoreTls',
      raw: '{{ jellyseerr_cfg_agents_email_ignore_tls }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 7,
    }
    _jellyseerr_cfg_agents_email_require_tls: {
      section: 'notifications',
      key: 'requireTls',
      raw: '{{ jellyseerr_cfg_agents_email_require_tls }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 8,
    }
    _jellyseerr_cfg_agents_email_auth_user: {
      section: 'notifications',
      key: 'authUser',
      raw: '{{ jellyseerr_cfg_agents_email_auth_user }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 9,
    }
    _jellyseerr_cfg_agents_email_auth_pass: {
      section: 'notifications',
      key: 'authPass',
      raw: '{{ jellyseerr_cfg_agents_email_auth_pass }}',
      default: '{{
          lookup("ansible.builtin.password",
                 "/dev/null",
                 chars=["ascii_lowercase", "ascii_uppercase", "digits"],
                 length=32)
        }}',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 10,
    }
    _jellyseerr_cfg_agents_email_allow_self_signed: {
      section: 'notifications',
      key: 'allowSelfSigned',
      raw: '{{ jellyseerr_cfg_agents_email_allow_self_signed }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 11,
    }
    _jellyseerr_cfg_agents_email_sender_name: {
      section: 'notifications',
      key: 'senderName',
      raw: '{{ jellyseerr_cfg_agents_email_sender_name }}',
      default: 'Jellyseerr',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 12,
    }
    _jellyseerr_cfg_agents_email_pgp_private_key: {
      section: 'notifications',
      key: 'pgpPrivateKey',
      raw: '{{ jellyseerr_cfg_agents_email_pgp_private_key }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 13,
    }
    _jellyseerr_cfg_agents_email_pgp_password: {
      section: 'notifications',
      key: 'pgpPassword',
      raw: '{{ jellyseerr_cfg_agents_email_pgp_password }}',
      default: '{{
           lookup("ansible.builtin.password",
                  "/dev/null",
                  chars=["ascii_lowercase", "ascii_uppercase", "digits"],
                  length=32)
        }}',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 14,
    }
    _jellyseerr_cfg_agents_discord_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_discord_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 15,
    }
    _jellyseerr_cfg_agents_discord_types: {
      section: 'notifications',
      key: 'types',
      raw: '{{ jellyseerr_cfg_agents_discord_types }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 16,
    }
    _jellyseerr_cfg_agents_discord_webhook_url: {
      section: 'notifications',
      key: 'webhookUrl',
      raw: '{{ jellyseerr_cfg_agents_discord_webhook_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 17,
    }
    _jellyseerr_cfg_agents_discord_bot_username: {
      section: 'notifications',
      key: 'botUsername',
      raw: '{{ jellyseerr_cfg_agents_discord_bot_username }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 18,
    }
    _jellyseerr_cfg_agents_discord_bot_avatar_url: {
      section: 'notifications',
      key: 'botAvatarUrl',
      raw: '{{ jellyseerr_cfg_agents_discord_bot_avatar_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 19,
    }
    _jellyseerr_cfg_agents_discord_webhook_role_id: {
      section: 'notifications',
      key: 'webhookRoleId',
      raw: '{{ jellyseerr_cfg_agents_discord_webhook_role_id }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 20,
    }
    _jellyseerr_cfg_agents_discord_enable_mentions: {
      section: 'notifications',
      key: 'enableMentions',
      raw: '{{ jellyseerr_cfg_agents_discord_enable_mentions }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 21,
    }
    _jellyseerr_cfg_agents_slack_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_slack_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 22,
    }
    _jellyseerr_cfg_agents_slack_webhook_url: {
      section: 'notifications',
      key: 'webhookUrl',
      raw: '{{ jellyseerr_cfg_agents_slack_webhook_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 23,
    }
    _jellyseerr_cfg_agents_slack_types: {
      section: 'notifications',
      key: 'types',
      raw: '{{ jellyseerr_cfg_agents_slack_types }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 24,
    }
    _jellyseerr_cfg_agents_telegram_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_telegram_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 25,
    }
    _jellyseerr_cfg_agents_telegram_types: {
      section: 'notifications',
      key: 'types',
      raw: '{{ jellyseerr_cfg_agents_telegram_types }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 26,
    }
    _jellyseerr_cfg_agents_telegram_bot_api: {
      section: 'notifications',
      key: 'botAPI',
      raw: '{{ jellyseerr_cfg_agents_telegram_bot_api }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 27,
    }
    _jellyseerr_cfg_agents_telegram_chat_id: {
      section: 'notifications',
      key: 'chatId',
      raw: '{{ jellyseerr_cfg_agents_telegram_chat_id }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 28,
    }
    _jellyseerr_cfg_agents_telegram_message_thread_id: {
      section: 'notifications',
      key: 'messageThreadId',
      raw: '{{ jellyseerr_cfg_agents_telegram_message_thread_id }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 29,
    }
    _jellyseerr_cfg_agents_telegram_send_silently: {
      section: 'notifications',
      key: 'sendSilently',
      raw: '{{ jellyseerr_cfg_agents_telegram_send_silently }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 30,
    }
    _jellyseerr_cfg_agents_telegram_bot_username: {
      section: 'notifications',
      key: 'botUsername',
      raw: '{{ jellyseerr_cfg_agents_telegram_bot_username }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 31,
    }
    _jellyseerr_cfg_agents_pushbullet_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_pushbullet_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 32,
    }
    _jellyseerr_cfg_agents_pushbullet_types: {
      section: 'notifications',
      key: 'types',
      raw: '{{ jellyseerr_cfg_agents_pushbullet_types }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 33,
    }
    _jellyseerr_cfg_agents_pushbullet_access_token: {
      section: 'notifications',
      key: 'accessToken',
      raw: '{{ jellyseerr_cfg_agents_pushbullet_access_token }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 34,
    }
    _jellyseerr_cfg_agents_pushbullet_channel_tag: {
      section: 'notifications',
      key: 'channelTag',
      raw: '{{ jellyseerr_cfg_agents_pushbullet_channel_tag }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 35,
    }
    _jellyseerr_cfg_agents_pushover_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_pushover_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 36,
    }
    _jellyseerr_cfg_agents_pushover_types: {
      section: 'notifications',
      key: 'types',
      raw: '{{ jellyseerr_cfg_agents_pushover_types }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 37,
    }
    _jellyseerr_cfg_agents_pushover_access_token: {
      section: 'notifications',
      key: 'accessToken',
      raw: '{{ jellyseerr_cfg_agents_pushover_access_token }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 38,
    }
    _jellyseerr_cfg_agents_pushover_user_token: {
      section: 'notifications',
      key: 'userToken',
      raw: '{{ jellyseerr_cfg_agents_pushover_user_token }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 39,
    }
    _jellyseerr_cfg_agents_pushover_sound: {
      section: 'notifications',
      key: 'sound',
      raw: '{{ jellyseerr_cfg_agents_pushover_sound }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 40,
    }
    _jellyseerr_cfg_agents_webhook_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_webhook_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 41,
    }
    _jellyseerr_cfg_agents_webhook_types: {
      section: 'notifications',
      key: 'types',
      raw: '{{ jellyseerr_cfg_agents_webhook_types }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 42,
    }
    _jellyseerr_cfg_agents_webhook_webhook_url: {
      section: 'notifications',
      key: 'webhookUrl',
      raw: '{{ jellyseerr_cfg_agents_webhook_webhook_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 43,
    }
    _jellyseerr_cfg_agents_webhook_auth_header: {
      section: 'notifications',
      key: 'authHeader',
      raw: '{{ jellyseerr_cfg_agents_webhook_auth_header }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 44,
    }
    _jellyseerr_cfg_agents_webhook_json_payload: {
      section: 'notifications',
      key: 'jsonPayload',
      raw: '{{ jellyseerr_cfg_agents_webhook_json_payload }}',
      default: 'Int9Ig==',  # Empty payload ({}).
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 45,
    }
    _jellyseerr_cfg_agents_webpush_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_webpush_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 46,
    }
    _jellyseerr_cfg_agents_gotify_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_gotify_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 47,
    }
    _jellyseerr_cfg_agents_gotify_types: {
      section: 'notifications',
      key: 'types',
      raw: '{{ jellyseerr_cfg_agents_gotify_types }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 48,
    }
    _jellyseerr_cfg_agents_gotify_url: {
      section: 'notifications',
      key: 'url',
      raw: '{{ jellyseerr_cfg_agents_gotify_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 49,
    }
    _jellyseerr_cfg_agents_gotify_token: {
      section: 'notifications',
      key: 'token',
      raw: '{{ jellyseerr_cfg_agents_gotify_token }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 50,
    }
    _jellyseerr_cfg_agents_gotify_priority: {
      section: 'notifications',
      key: 'priority',
      raw: '{{ jellyseerr_cfg_agents_gotify_priority }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 51,
    }
    _jellyseerr_cfg_agents_ntfy_enabled: {
      section: 'notifications',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_agents_ntfy_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 52,
    }
    _jellyseerr_cfg_agents_ntfy_types: {
      section: 'notifications',
      key: 'types',
      raw: '{{ jellyseerr_cfg_agents_ntfy_types }}',
      default: 0,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 53,
    }
    _jellyseerr_cfg_agents_ntfy_url: {
      section: 'notifications',
      key: 'url',
      raw: '{{ jellyseerr_cfg_agents_ntfy_url }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 54,
    }
    _jellyseerr_cfg_agents_ntfy_topic: {
      section: 'notifications',
      key: 'topic',
      raw: '{{ jellyseerr_cfg_agents_ntfy_topic }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 55,
    }
    _jellyseerr_cfg_agents_ntfy_auth_method_username_password: {
      section: 'notifications',
      key: 'v',
      raw: '{{ jellyseerr_cfg_agents_ntfy_auth_method_username_password }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 56,
    }
    _jellyseerr_cfg_agents_ntfy_username: {
      section: 'notifications',
      key: 'username',
      raw: '{{ jellyseerr_cfg_agents_ntfy_username }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 56,
    }
    _jellyseerr_cfg_agents_ntfy_password: {
      section: 'notifications',
      key: 'password',
      raw: '{{ jellyseerr_cfg_agents_ntfy_password }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 57,
    }
    _jellyseerr_cfg_agents_ntfy_auth_method_token: {
      section: 'notifications',
      key: 'authMethodToken',
      raw: '{{ jellyseerr_cfg_agents_ntfy_auth_method_token }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 58,
    }
    _jellyseerr_cfg_agents_ntfy_token: {
      section: 'notifications',
      key: 'token',
      raw: '{{ jellyseerr_cfg_agents_ntfy_token }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 59,
    }
    _jellyseerr_cfg_jobs_plex_recently_added_scan: {
      section: 'jobs',
      key: 'plex-recently-added-scan',
      raw: '{{ jellyseerr_cfg_jobs_plex_recently_added_scan }}',
      default: '0 */5 * * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_jobs_plex_full_scan: {
      section: 'jobs',
      key: 'plex-full-scan',
      raw: '{{ jellyseerr_cfg_jobs_plex_full_scan }}',
      default: '0 0 3 * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_jobs_plex_watchlist_sync: {
      section: 'jobs',
      key: 'plex-watchlist-sync',
      raw: '{{ jellyseerr_cfg_jobs_plex_watchlist_sync }}',
      default: '0 */3 * * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_jobs_plex_refresh_token: {
      section: 'jobs',
      key: 'plex-refresh-token',
      raw: '{{ jellyseerr_cfg_jobs_plex_refresh_token }}',
      default: '0 0 5 * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_cfg_jobs_radarr_scan: {
      section: 'jobs',
      key: 'radarr-scan',
      raw: '{{ jellyseerr_cfg_jobs_radarr_scan }}',
      default: '0 0 4 * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_cfg_jobs_sonarr_scan: {
      section: 'jobs',
      key: 'sonarr-scan',
      raw: '{{ jellyseerr_cfg_jobs_sonarr_scan }}',
      default: '0 30 4 * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_jobs_availability_sync: {
      section: 'jobs',
      key: 'availability-sync',
      raw: '{{ jellyseerr_cfg_jobs_availability_sync }}',
      default: '0 0 5 * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 7,
    }
    _jellyseerr_cfg_jobs_download_sync: {
      section: 'jobs',
      key: 'download-sync',
      raw: '{{ jellyseerr_cfg_jobs_download_sync }}',
      default: '0 * * * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 8,
    }
    _jellyseerr_cfg_jobs_download_sync_reset: {
      section: 'jobs',
      key: 'download-sync-reset',
      raw: '{{ jellyseerr_cfg_jobs_download_sync_reset }}',
      default: '0 0 1 * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 9,
    }
    _jellyseerr_cfg_jobs_jellyfin_recently_added_scan: {
      section: 'jobs',
      key: 'jellyfin-recently-added-scan',
      raw: '{{ jellyseerr_cfg_jobs_jellyfin_recently_added_scan }}',
      default: '0 0/5 * * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 10,
    }
    _jellyseerr_cfg_jobs_jellyfin_full_scan: {
      section: 'jobs',
      key: 'jellyfin-full-scan',
      raw: '{{ jellyseerr_cfg_jobs_jellyfin_full_scan }}',
      default: '0 0 3 * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 11,
    }
    _jellyseerr_cfg_jobs_image_cache_cleanup: {
      section: 'jobs',
      key: 'image-cache-cleanup',
      raw: '{{ jellyseerr_cfg_jobs_image_cache_cleanup }}',
      default: '0 0 5 * * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 12,
    }
    _jellyseerr_cfg_jobs_process_blacklisted_tags: {
      section: 'jobs',
      key: 'process-blacklisted-tags',
      raw: '{{ jellyseerr_cfg_jobs_process_blacklisted_tags }}',
      default: '0 30 1 */7 * *',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 13,
    }
    _jellyseerr_cfg_csrf_protection: {
      section: 'network',
      key: 'csrfProtection',
      raw: '{{ jellyseerr_cfg_csrf_protection }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_force_ipv4_first: {
      section: 'network',
      key: 'forceIpv4First',
      raw: '{{ jellyseerr_cfg_force_ipv4_first }}',
      default: false,
      role_env: 'FORCE_IPV4_FIRST',
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_trust_proxy: {
      section: 'network',
      key: 'trustProxy',
      raw: '{{ jellyseerr_cfg_trust_proxy }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_proxy_enabled: {
      section: 'network',
      key: 'enabled',
      raw: '{{ jellyseerr_cfg_proxy_enabled }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_cfg_proxy_hostname: {
      section: 'network',
      key: 'hostname',
      raw: '{{ jellyseerr_cfg_proxy_hostname }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_cfg_proxy_port: {
      section: 'network',
      key: 'port',
      raw: '{{ jellyseerr_cfg_proxy_port }}',
      default: 8080,
      hint: 'int',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_proxy_use_ssl: {
      section: 'network',
      key: 'useSsl',
      raw: '{{ jellyseerr_cfg_proxy_use_ssl }}',
      default: false,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 7,
    }
    _jellyseerr_cfg_proxy_user: {
      section: 'network',
      key: 'user',
      raw: '{{ jellyseerr_cfg_proxy_user }}',
      default: '',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 8,
    }
    _jellyseerr_cfg_proxy_password: {
      section: 'network',
      key: 'password',
      raw: '{{ jellyseerr_cfg_proxy_password }}',
      default: '',
      hint: 'atr',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 9,
    }
    _jellyseerr_cfg_proxy_bypass_filter: {
      section: 'network',
      key: 'bypassFilter',
      raw: '{{ jellyseerr_cfg_proxy_bypass_filter }}',
      data: '{{ jellyseerr_cfg_proxy_bypass_filter | join(",") }}',
      default: [],
      hint: 'list of str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 10,
    }
    _jellyseerr_cfg_proxy_bypass_local_addresses: {
      section: 'network',
      key: 'bypassLocalAddresses',
      raw: '{{ jellyseerr_cfg_proxy_bypass_local_addresses }}',
      default: true,
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 11,
    }
    _jellyseerr_cfg_db_type: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_cfg_db_type | lower }}',
      default: 'sqlite',
      role_env: 'DB_TYPE',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 1,
    }
    _jellyseerr_cfg_db_log_queries: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_cfg_db_log_queries }}',
      default: false,
      role_env: 'DB_LOG_QUERIES',
      hint: 'bool',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 2,
    }
    _jellyseerr_cfg_db_host: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_cfg_db_host }}',
      default: 'localhost',
      role_env: 'DB_HOST',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 3,
    }
    _jellyseerr_cfg_db_port: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_cfg_db_port }}',
      default: 5432,
      role_env: 'DB_PORT',
      hint: 'port',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 4,
    }
    _jellyseerr_cfg_db_socket_path: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_cfg_db_socket_path }}',
      default: '',
      role_env: 'DB_SOCKET_PATH',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 5,
    }
    _jellyseerr_cfg_db_user: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_cfg_db_user }}',
      default: 'jellyseerr',
      role_env: 'DB_USER',
      hint: 'str',
      added: '0.0.0',
      sensitive: false,
      deprecated: false,
      order: 6,
    }
    _jellyseerr_cfg_db_pass: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_cfg_db_pass }}',
      default: 'jellyseerr',
      role_env: 'DB_PASS',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 7,
    }
    _jellyseerr_cfg_db_name: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_cfg_db_name }}',
      default: 'jellyseerr',
      role_env: 'DB_NAME',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 8,
    }
    _jellyseerr_db_use_ssl: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_db_use_ssl }}',
      default: false,
      role_env: 'DB_USE_SSL',
      hint: 'bool',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 9,
    }
    _jellyseerr_db_ssl_reject_unauthorized: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_db_ssl_reject_unauthorized }}',
      default: true,
      role_env: 'DB_SSL_REJECT_UNAUTHORIZED',
      hint: 'bool',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 10,
    }
    _jellyseerr_db_ssl_ca_file: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_db_ssl_ca_file }}',
      default: '',
      role_dest: '/opt/jellyseerr/jellyseerr/config/ca.cert',
      role_perms: '0644',
      role_env: 'DB_SSL_CA_FILE',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 12,
    }
    _jellyseerr_db_ssl_key_file: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_db_ssl_key_file }}',
      default: '',
      role_dest: '/opt/jellyseerr/jellyseerr/config/key.pem',
      role_perms: '0640',
      role_env: 'DB_SSL_KEY_FILE',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 14,
    }
    _jellyseerr_db_ssl_cert_file: {
      section: '',
      key: '',
      raw: '{{ jellyseerr_db_ssl_cert_file }}',
      default: '',
      role_dest: '/opt/jellyseerr/jellyseerr/config/chain.pem',
      role_perms: '0640',
      role_env: 'DB_SSL_CERT_FILE',
      hint: 'str',
      added: '0.0.0',
      sensitive: true,
      deprecated: false,
      order: 16,
    }

- name: 'Annotate | merge template jellyseerr_cfg_plex_libraries'
  ansible.builtin.set_fact:  # noqa jinja[spacing] more readable.
    _jellyseerr_cfg_plex_libraries: '{{
        _jellyseerr_cfg_plex_libraries |
        combine({
            "data": _jellyseerr_cfg_plex_libraries.data | default([]) +
            [jellyseerr_role_template_media_server_libraries | combine(item)]
          })
      }}'
  loop: '{{ _jellyseerr_cfg_plex_libraries.raw }}'
  loop_control:
    label: '{{ item.name }}'

- name: 'Annotate | merge template jellyseerr_cfg_jellyfin_libraries'
  ansible.builtin.set_fact:  # noqa jinja[spacing] more readable.
    _jellyseerr_cfg_jellyfin_libraries: '{{
        _jellyseerr_cfg_jellyfin_libraries |
        combine({
            "data": _jellyseerr_cfg_jellyfin_libraries.data | default([]) +
            [jellyseerr_role_template_media_server_libraries | combine(item)]
          })
      }}'
  loop: '{{ _jellyseerr_cfg_jellyfin_libraries.raw }}'
  loop_control:
    label: '{{ item.name }}'

- name: 'Annotate | merge template jellyseerr_cfg_radarr'
  ansible.builtin.set_fact:  # noqa jinja[spacing] more readable.
    _jellyseerr_cfg_radarr: '{{
        _jellyseerr_cfg_radarr |
        combine({
            "data": _jellyseerr_cfg_radarr.data | default([]) +
            [jellyseerr_role_template_radarr | combine(item)]
          })
      }}'
  loop: '{{ _jellyseerr_cfg_radarr.raw }}'
  loop_control:
    label: '{{ item.name }}'

- name: 'Annotate | merge template jellyseerr_cfg_sonarr'
  ansible.builtin.set_fact:  # noqa jinja[spacing] more readable.
    _jellyseerr_cfg_sonarr: '{{
        _jellyseerr_cfg_sonarr |
        combine({
            "data": _jellyseerr_cfg_sonarr.data | default([]) +
            [jellyseerr_role_template_sonarr | combine(item)]
          })
      }}'
  loop: '{{ _jellyseerr_cfg_sonarr.raw }}'
  loop_control:
    label: '{{ item.name }}'

- name: 'Annotate | generate config map'
  ansible.builtin.set_fact:
    _jellyseerr_map: '{{
        hostvars[inventory_hostname] | dict2items |
        selectattr("key", "match", "_jellyseerr_cfg_*")
      }}'
    _jellyseerr_order:
      - 'base'
      - 'main'
      - 'plex'
      - 'jellyfin'
      - 'tautulli'
      - 'radarr'
      - 'sonarr'
      - 'public'
      - 'notifications'
      - 'jobs'
      - 'network'
